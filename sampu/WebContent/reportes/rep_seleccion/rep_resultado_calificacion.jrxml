<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="rep_resultado_calificacion"

		 language="groovy"		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="595"
		 pageHeight="842"
		 columnWidth="555"
		 columnSpacing="0"
		 leftMargin="20"
		 rightMargin="20"
		 topMargin="20"
		 bottomMargin="20"
		 whenNoDataType="AllSectionsNoDetail"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.zoom" value="2.0" />
	<property name="ireport.x" value="186" />
	<property name="ireport.y" value="0" />
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="SUBREPORT_DIR" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA["D:\\workspace\\biess\\WebContent\\reportes\\rep_gestion\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="ide_sucu" isForPrompting="true" class="java.lang.Integer"/>
	<parameter name="ide_empr" isForPrompting="true" class="java.lang.Integer"/>
	<parameter name="usuario" isForPrompting="true" class="java.lang.Integer"/>
	<parameter name="titulo" isForPrompting="true" class="java.lang.String"/>
	<parameter name="ide_spsop" isForPrompting="true" class="java.lang.Integer"/>
	<queryString><![CDATA[select a.ide_spsop,cargo_funcional,a.ide_spdsp,detalle_gttco,codigo_partida_gepap,nom_sucu,detalle_spfac,
resultado,documento_identidad_sppos,apellido_nombre_sppos,detalle_gttco,b.ide_spfac,c.ide_sppos

from (
select ide_spcac,a.ide_spdsp,a.ide_gepap,a.ide_gttco,b.ide_spsop,b.ide_gegca,nro_puesto_aprob_spdsp,valor_puesto_spdsp,
c.detalle_gttco,d.codigo_partida_gepap,cargo_funcional,nom_sucu,ide_gegro
from spr_cargo_contratacion a,spr_detalle_solicitud_puesto b,gth_tipo_contrato c,gen_partida_presupuestaria d,
(
SELECT a.ide_gegca,b.detalle_gegro||' '||c.detalle_gecaf as cargo_funcional,d.detalle_gedep,e.detalle_geare,a.ide_gegro
FROM gen_grupo_cargo_area a,
gen_grupo_ocupacional b, gen_cargo_funcional c,gen_departamento d,gen_area e
where a.ide_gegro=b.ide_gegro and a.ide_gecaf=c.ide_gecaf and a.ide_gedep=d.ide_gedep and d.ide_geare=e.ide_geare
) e,sis_sucursal f
where a.ide_spdsp = b.ide_spdsp and a.ide_gttco = c.ide_gttco
and a.ide_gepap = d.ide_gepap and b.ide_gegca = e.ide_gegca
and b.ide_sucu = f.ide_sucu
) a
left join (
select a.ide_spfac,ide_gegro,detalle_spfac
from  spr_factor a
left join spr_grupo_factor b on a.ide_spfac = b.ide_spfac
order by a.ide_spfac
) b on a.ide_gegro = b.ide_gegro
left join (
select a.ide_spdsp,a.ide_sppos,ide_spfac,resultado,documento_identidad_sppos,apellido_nombre_sppos
from (
select ide_spdsp,ide_sppos,ide_spfac,avg(total_puntos_spres) as resultado
from spr_resultado a
group by ide_spdsp,ide_sppos,ide_spfac
) a, spr_postulante b
where a.ide_sppos = b.ide_sppos
) c on a.ide_spdsp = c.ide_spdsp and b.ide_spfac=c.ide_spfac
where a.ide_spsop =$P{ide_spsop}]]></queryString>

	<field name="IDE_SPSOP" class="java.math.BigDecimal"/>
	<field name="CARGO_FUNCIONAL" class="java.lang.String"/>
	<field name="IDE_SPDSP" class="java.math.BigDecimal"/>
	<field name="DETALLE_GTTCO" class="java.lang.String"/>
	<field name="CODIGO_PARTIDA_GEPAP" class="java.lang.String"/>
	<field name="NOM_SUCU" class="java.lang.String"/>
	<field name="DETALLE_SPFAC" class="java.lang.String"/>
	<field name="RESULTADO" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_IDENTIDAD_SPPOS" class="java.lang.String"/>
	<field name="APELLIDO_NOMBRE_SPPOS" class="java.lang.String"/>
	<field name="IDE_SPFAC" class="java.math.BigDecimal"/>
	<field name="IDE_SPPOS" class="java.math.BigDecimal"/>

	<variable name="RESULTADO_1" class="java.math.BigDecimal" resetType="Group" resetGroup="IDE_SPPOS" calculation="Sum">
		<variableExpression><![CDATA[$F{RESULTADO}]]></variableExpression>
	</variable>

		<group  name="IDE_SPDSP" >
			<groupExpression><![CDATA[$F{IDE_SPDSP}]]></groupExpression>
			<groupHeader>
			<band height="64"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="0"
						y="14"
						width="100"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PARTIDA:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="100"
						y="14"
						width="455"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{CODIGO_PARTIDA_GEPAP}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="100"
						y="0"
						width="455"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{DETALLE_GTTCO}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="100"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[VINCULACION]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="0"
						y="28"
						width="100"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[SUCURSAL]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="100"
						y="28"
						width="455"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{NOM_SUCU}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="100"
						y="43"
						width="455"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{CARGO_FUNCIONAL}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="43"
						width="100"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[CARGO FUNCIONAL]]></text>
				</staticText>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
			</groupFooter>
		</group>
		<group  name="IDE_SPPOS" >
			<groupExpression><![CDATA[$F{IDE_SPPOS}]]></groupExpression>
			<groupHeader>
			<band height="37"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="0"
						y="20"
						width="367"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[FACTOR DE EVALUACION]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="367"
						y="20"
						width="188"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[RESULTADO]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="303"
						y="0"
						width="64"
						height="20"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[DOCUMENTO:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="367"
						y="0"
						width="155"
						height="20"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{DOCUMENTO_IDENTIDAD_SPPOS}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="100"
						height="20"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[POSTULANTE:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="112"
						y="0"
						width="191"
						height="20"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{APELLIDO_NOMBRE_SPPOS}]]></textFieldExpression>
				</textField>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="16"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="367"
						y="0"
						width="188"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$V{RESULTADO_1}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="266"
						y="0"
						width="101"
						height="15"
						key="staticText"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[TOTAL DE RESULTADO:]]></text>
				</staticText>
			</band>
			</groupFooter>
		</group>
		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="37"  isSplitAllowed="true" >
				<subreport  isUsingCache="true">
					<reportElement
						x="0"
						y="0"
						width="555"
						height="36"
						key="subreport"/>
					<subreportParameter  name="SUBREPORT_DIR">
						<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="ide_sucu">
						<subreportParameterExpression><![CDATA[$P{ide_sucu}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="ide_empr">
						<subreportParameterExpression><![CDATA[$P{ide_empr}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="ide_usua">
						<subreportParameterExpression><![CDATA[$P{usuario}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="titulo">
						<subreportParameterExpression><![CDATA[$P{titulo}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression  class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "/reportes/rep_sistema_biess/rep_cabecera.jasper"]]></subreportExpression>
				</subreport>
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="15"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="367"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{DETALLE_SPFAC}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="367"
						y="0"
						width="188"
						height="15"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{RESULTADO}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="10"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="430"
						y="0"
						width="80"
						height="10"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="7"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Página "+$V{PAGE_NUMBER}+" de "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="510"
						y="0"
						width="40"
						height="10"
						key="textField"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font size="7"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
